@page "/"
@inject SignalRService SignalRService

<h1>Hello, world!</h1>

Welcome to your new app.

<button @onclick="StartSignalRConnection">Start Connection</button>
<button @onclick="SendSampleMessage">Send Message</button>

@code {
    private async Task StartSignalRConnection()
    {
        await SignalRService.StartConnectionAsync("https://your-server-url/AuthenticationHub");
        // Register the handler after starting the connection
        SignalRService.RegisterReceiveLoginResultHandler((result) =>
        {
            Console.WriteLine($"Login Result: {result}");
        });
    }

    private async Task SendSampleMessage()
    {
        await SignalRService.SendJwtAsync("sample-jwt-token");
    }
}
